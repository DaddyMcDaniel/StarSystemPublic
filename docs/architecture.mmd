```mermaid
graph TB
    %% User Entry Points
    User[User Command] --> CLI{Entry Point Choice}
    CLI -->|LOP_miniplanet --seed 42 --view| LOP[commands/LOP_miniplanet]
    CLI -->|python unified_miniplanet.py| UMP[unified_miniplanet.py:670]
    CLI -->|python create_mini_planet.py| CMP[create_mini_planet.py:676]
    CLI -->|Evolution Loop| AUTO[run_auto_loop.py:30]
    
    %% Unified Mini-Planet Pipeline (PRIMARY)
    UMP --> S2T[seed_to_terrain_params]
    S2T --> HF[generate_height_field]
    HF --> M2M[height_field_to_mesh]
    M2M --> OBJ[place_objects_on_terrain]
    OBJ --> EXP[export_scene]
    EXP --> JSON1[unified_planet_seed_N.json]
    
    %% Agent D Pipeline (SECONDARY)
    AUTO --> AGEN[agents/agent_a_generator.py:393]
    AGEN --> PCC[game.pcc AST]
    PCC --> AGD[agents/agent_d_renderer.py:748]
    AGD --> T17[T17 Hero Planet System]
    T17 --> MESH[agents/agent_d/mesh/]
    MESH --> JSON2[scene.json T17 format]
    
    %% Dual JSON Schema Issue (SCHEMA DRIFT RISK)
    JSON1 -.->|Different Schema?| VIEWER
    JSON2 -.->|Different Schema?| VIEWER
    
    %% Renderer/Viewer Pipeline  
    VIEWER[renderer/pcc_game_viewer.py:1791]
    VIEWER --> OGL[OpenGL Rendering]
    VIEWER --> LOD[Runtime LOD Manager]
    VIEWER --> CHUNK[Chunk Streamer]
    VIEWER --> HUD[Debug HUD]
    
    %% Dependencies (UNMANAGED RISK)
    VIEWER -.->|import numpy| NPY[numpy - NO VERSION PIN]
    VIEWER -.->|from OpenGL.GL| GL[PyOpenGL - NO VERSION PIN] 
    VIEWER -.->|from PIL| PIL[PIL/Pillow - NO VERSION PIN]
    
    %% Navigation & Physics
    OGL --> CAM[Camera System]
    CAM --> GRAV[Spherical Gravity]
    CAM --> INPUT[Mouse/Keyboard Controls]
    
    %% Agent Evolution System
    JSON2 --> AGENTB[agents/agent_b_tester.py:622]
    AGENTB --> FEEDBACK[Quality Assessment]
    FEEDBACK --> AGENTC[agents/agent_c_supervisor.py:184]
    AGENTC --> PATTERNS[Pattern Evolution]
    PATTERNS -.-> AGEN
    
    %% C++ Components
    PCC -.->|optional| VM[src/pcc_vm_simple.cpp:372]
    MESH -.->|optional| CUBE[agents/agent_d/mesh/cubesphere.cpp:293]
    
    %% Testing Infrastructure
    VIEWER -.-> TESTS[30+ test files]
    TESTS --> VALIDATE[agents/agent_d/validate_*]
    TESTS --> AGTEST[agents/agent_d/test_*]
    
    %% High-Risk Areas (RED)
    classDef risk fill:#ff9999,stroke:#ff0000,stroke-width:2px
    class NPY,GL,PIL risk
    
    %% Primary Paths (GREEN)
    classDef primary fill:#99ff99,stroke:#00ff00,stroke-width:2px  
    class UMP,VIEWER primary
    
    %% Schema Drift (ORANGE)
    classDef schema fill:#ffcc99,stroke:#ff9900,stroke-width:2px
    class JSON1,JSON2 schema
```